<!--
 * @Author: JA
 * @Date: 2021-12-12 22:07:02
 * @LastEditTime: 2022-09-24 00:17:48
 * @LastEditors: JA
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 红宝书p237
        //构造函数的问题：其定义的方法会在每个实例上都创建一遍
        //原型链的问题：共享特性(所以属性会在原型中定义而不会定义在原型上)   基础数据类型没问题(遮蔽)  引用值会共享


        function Supertype() {
        }
        // this.property = '焦傲'
        //     this.arr = [1, 2, 3]
        Supertype.prototype.property = '焦傲'
        Supertype.prototype.arr = [1, 2, 3]
        Supertype.prototype.getSuperValue = function () {
            return this.property
        }

        const s1 = new Supertype()
        const s2 = new Supertype()
        s1.property = null
        console.log(s1.property);
        console.log(s2.__proto__.constructor === Supertype);
        console.log(s2.constructor, 'asd');

        //常用四种继承模型
        // 组合继承  原型链 + 盗用构造函数
        // 原型式继承
        //寄生式继承
        //寄生式组合继承（ES6后由类实现）




        // function Test() {
        //     if (new.target) {
        //         console.log(new.target, 'new.target');
        //     }
        //     this.add = '3'
        // }
        // const test = new Test()
        // function add() {

        // }
        // console.log(Test.prototype.__proto__ === Object.prototype);//true
        // console.log(Object.__proto__ === Function.prototype);//true
        console.log(Function.__proto__ === Function.prototype);//true
        //因为Function本身既是对象也是函数
        // console.log(Function instanceof Object);//true
        // console.log(Function instanceof Function);//true
        // console.log(Object.prototype);

        // const RreatePre = function (age) {
        //     this.age = age

        // }
        // RreatePre.prototype.sayname = () => {
        //     console.log(this.age);
        // }
        // RreatePre.prototype.name = 'ja'
        // const a = new RreatePre(11)
        // console.log(a);
        // for (const ele in a) {
        //     console.log(ele);
        // }
        // //age
        // //  sayname
        // //  name
        // console.log(Object.keys(a));//['age']

    </script>
    </script>
</body>

</html>